@model Author
@{
	ViewData["Title"] = "Yazıçını sil";
}

<div class="container">
	<h2 style="text-align:center;font-weight:bold" class="mt-3">Yazıçını sil</h2>
	<table class="table table-striped">
		<thead>
			<tr>
				<th scope="col">Yazıçı</th>
				<th scope="col">Sil</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>@Model.Fullname</td>
				<td>
					<form method="post" id="deleteAuthor">
						<button type="submit" class="btn btn-danger"><i class="mdi mdi-delete-forever"></i>Sil</button>
					</form>
				</td>
			</tr>
		</tbody>
	</table>
</div>

@section Scripts{
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	<script>
		$("#deleteAuthor").submit(function (e) {
			e.preventDefault();
			swal({
				title: "Yazar",
				text: "Bu yazarı silmək istədiyinizdən əminsiniz?",
				icon: "warning",
				buttons: ["Bağla", "Sil"],
				dangerMode: true,
			})
				.then((willDelete) => {
					if (willDelete) {
						swal("Yazar silindi", {
							icon: "success",
						}).then(function () {
							setTimeout(() => document.querySelector("#deleteAuthor").submit(), 100);
						})
					} else {
						swal("Yazar silinmədi");
						button: "Bağla"
					}
				});
		});
	</script>
}


